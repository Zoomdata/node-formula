# Node.js 18 Configuration

wheezy:
  pkg: nodejs-18
  repo_name: {{ grains['oscodename'] }}
  repo_entry: 'deb https://deb.nodesource.com/node_18.x %(repo_name)s main'
  node_home: /usr/local/bin/node

jessie:
  pkg: nodejs-18
  repo_name: {{ grains['oscodename'] }}-backports
  repo_entry: 'deb https://deb.nodesource.com/node_18.x %(repo_name)s main'
  apt_config:
    # Ignore expiry date for backports repositories
    90ignore-release-date:
      - 'Acquire::Check-Valid-Until "false";'

trusty:
  pkg: nodejs-18
  repo_name: {{ grains['oscodename'] }}
  repo_ppa: nodejs/stable
  repo_entry: 'deb https://deb.nodesource.com/node_18.x %(repo_name)s main'
  node_home: /usr/local/bin/node

CentOS Linux 7 (Core):
  pkg: nodejs-18
  repo_name: epel
  repo_entry: 'https://rpm.nodesource.com/pub_18.x/el/7/x86_64/'
  node_home: /usr/local/bin/node
  pkgrepo.managed:
    - name: 'https://rpm.nodesource.com/pub_18.x/el/7/x86_64/'
    - gpgkey: 'https://rpm.nodesource.com/pub_18.x/el/7/x86_64/RPM-GPG-KEY-Nodesource'
    - enabled: 1

# For RHEL-based distributions (RHEL 7, 8, 9)
RHEL_7:
  pkg: nodejs-18
  repo_name: rhel7
  repo_entry: 'https://rpm.nodesource.com/pub_18.x/el/7/x86_64/'
  node_home: /usr/local/bin/node
  pkgrepo.managed:
    - name: 'https://rpm.nodesource.com/pub_18.x/el/7/x86_64/'
    - gpgkey: 'https://rpm.nodesource.com/pub_18.x/el/7/x86_64/RPM-GPG-KEY-Nodesource'
    - enabled: 1

RHEL_8:
  pkg: nodejs-18
  repo_name: rhel8
  repo_entry: 'https://rpm.nodesource.com/pub_18.x/el/8/x86_64/'
  node_home: /usr/local/bin/node
  pkgrepo.managed:
    - name: 'https://rpm.nodesource.com/pub_18.x/el/7/x86_64/'
    - gpgkey: 'https://rpm.nodesource.com/pub_18.x/el/7/x86_64/RPM-GPG-KEY-Nodesource'
    - enabled: 1

RHEL_9:
  pkg: nodejs-18
  repo_name: rhel9
  repo_entry: 'https://rpm.nodesource.com/pub_18.x/el/9/x86_64/'
  node_home: /usr/local/bin/node
  pkgrepo.managed:
    - name: 'https://rpm.nodesource.com/pub_18.x/el/7/x86_64/'
    - gpgkey: 'https://rpm.nodesource.com/pub_18.x/el/7/x86_64/RPM-GPG-KEY-Nodesource'
    - enabled: 1
